<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<h:body>
    <ui:composition template="template/commonLayout.xhtml">

        <ui:define name="header">
            <h:link outcome="index" value="Crawler" styleClass="brand"/>

            <div class="nav-collapse collapse">
                <ul class="nav">
                    <li><h:link outcome="index" value="Browse"/></li>
                    <li class="active"><h:link outcome="search" value="Search" /></li>
                    <li><h:link outcome="analytics" value="Analytics"/></li>
                </ul>
            </div>
        </ui:define>

        <ui:define name="content">
            <h:outputStylesheet library="css" name="search.css" />
            <h:outputText value="Search" />

            <h:form id="searchForm">
                <h:inputText id="query_input" value="#{searchBean.query}" />
                <h:inputText id="location_input" value="#{searchBean.location}"/>

                <h:commandButton value="Start non pb" action="#{searchBean.startSearching()}" />

                <p:commandButton value="Start search" action="#{searchBean.setRunning()}" type="submit" widgetVar="startSearchBtn" onclick="pbAjax.start();startSearchBtn.disable();"/>

                <h:panelGroup>
                    <p:progressBar widgetVar="pbAjax" ajax="true" value="#{searchBean.progress}" labelTemplate="{value}%" styleClass="animated">
                        <p:ajax event="complete" listener="#{searchBean.onComplete}" oncomplete="startSearchBtn.enable()"/>
                    </p:progressBar>
                </h:panelGroup>


                <p:dialog></p:dialog>

            </h:form>


        </ui:define>
    </ui:composition>
</h:body>
</html>
