<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:m="http://code.google.com/p/gmaps4jsf/">

<h:body>
    <ui:composition template="template/commonLayout.xhtml">
        <ui:define name="content">


            <h:form id="details">
                <f:viewParam name="jobKey" value="#{searchResultDetailBean.searchResult.jobKey}" />

                <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=true"></script>

                <h4>
                    <h:outputText value="#{searchResultDetailBean.searchResult.company}"/>
                </h4>

                <h2>
                    <h:outputText value="#{searchResultDetailBean.searchResult.jobTitle}" />
                </h2>
                <small>
                    Posted on
                    <em>
                        <h:outputText value="#{searchResultDetailBean.searchResult.date}">
                            <f:convertDateTime pattern="dd/MM/yyyy" />
                        </h:outputText>
                    </em>
                    (<h:outputLink value="#{searchResultDetailBean.searchResult.directUrl}" styleClass="btn-link" target="_blank">Direct link to offer</h:outputLink>)

                </small>
                <hr />

                <h:panelGrid id="grid" columns="2">

                    <h:panelGroup>
                        <h:panelGrid columns="2">
                            <h:outputLabel id="cityLabel" for="city" value="City" />
                            <h:inputText id="city" styleClass="input-medium" value="#{searchResultDetailBean.searchResult.city}" />

                            <h:outputLabel id="latitudeLabel" for="latitude" value="Latitude" />
                            <h:inputText id="latitude" styleClass="input-medium" value="#{searchResultDetailBean.searchResult.latitude}" disabled="true"/>

                            <h:outputLabel id="longitudeLabel" for="longitude" value="Longitude" />
                            <h:inputText id="longitude" styleClass="input-medium" value="#{searchResultDetailBean.searchResult.longtitude}" disabled="true"/>
                        </h:panelGrid>

                    </h:panelGroup>

                    <h:panelGroup>
                        Google map here
                    </h:panelGroup>

                </h:panelGrid>

                <h:commandLink action="index" value="Back" styleClass="btn" />
                <h:commandButton action="#{searchResultDetailBean.save}" value="Save" styleClass="btn btn-primary"/>

            </h:form>

        </ui:define>
    </ui:composition>
</h:body>
</html>
